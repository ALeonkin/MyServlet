<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title></title></head>
<body>
<h1>Создание нового пользователя</h1>

<form id="putForm">
  <label for="name">ID изменяемого пользователя:</label>
  <input type="text" id="id" name="id">
  <br>
  <label for="name">Имя:</label>
  <input type="text" id="name" name="firstName">
  <br>
  <label for="surname">Фамилия:</label>
  <input type="text" id="surname" name="lastName">
  <br>
  <label for="salary">Зарплата:</label>
  <input type="text" id="salary" name="salary">
  <br>
  <button type="button" onclick="submitForm()">Изменить</button>
  <br>
  <a href="index.jsp">Домой</a>
</form>

<script>
  function submitForm() {
    const id = document.getElementById("id").value;
    const name = document.getElementById("name").value;
    const surname = document.getElementById("surname").value;
    const salary = document.getElementById("salary").value;

    const data = {
      "id":id,
      "name": name,
      "surname": surname,
      "salary": salary
    };

    const url = 'http://localhost:8080/newServlet_war_exploded/put';

    fetch(url, {
      method: 'PUT',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(data)
    })
            .then(response => {
              if (response.ok) {
                alert('Пользователь изменен!');
              } else {
                alert('Произошла ошибка при изменении пользователя');
              }
            })
            .catch(error => {
              console.error('Произошла ошибка:', error);
            });
  }
</script>
</body>
</html>